(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[32],{"7Zn7":function(e,t,a){e.exports={standardTable:"antd-pro-pages-admin-site-index-components-standard-table-index-standardTable",tableAlert:"antd-pro-pages-admin-site-index-components-standard-table-index-tableAlert"}},"9oZW":function(e,t,a){"use strict";var l=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("g9YV");var d=r(a("wCAj")),n=r(a("Y/ft")),i=r(a("2Taf")),o=r(a("vZ4D")),u=r(a("l4Ni")),s=r(a("ujKo")),f=r(a("MhPg")),c=r(a("p0pE")),p=l(a("q1tI")),m=r(a("7Zn7"));function h(e){if(!e)return[];var t=[];return e.forEach(function(e){e.needTotal&&t.push((0,c.default)({},e,{total:0}))}),t}var b=function(e){function t(){var e;return(0,i.default)(this,t),e=(0,u.default)(this,(0,s.default)(t).apply(this,arguments)),e.handleTableChange=function(t,a,l){var r=e.props.onChange;if(r){for(var d=arguments.length,n=new Array(d>3?d-3:0),i=3;i<d;i++)n[i-3]=arguments[i];r.apply(void 0,[t,a,l].concat(n))}},e}return(0,f.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.rowKey,l=(0,n.default)(e,["data","rowKey"]),r=t||{},i=r.list,o=void 0===i?[]:i,u=r.pagination,s=void 0!==u&&u,f=!!s&&(0,c.default)({showSizeChanger:!0,showQuickJumper:!0},s);return p.default.createElement("div",{className:m.default.standardTable},p.default.createElement(d.default,Object.assign({rowKey:a||"key",dataSource:o,pagination:f,onChange:this.handleTableChange},l)))}}],[{key:"getDerivedStateFromProps",value:function(e){if(0===e.selectedRows.length){var t=h(e.columns);return{selectedRowKeys:[],needTotalList:t}}return null}}]),t}(p.Component),g=b;t.default=g},IBFk:function(e,t,a){"use strict";var l=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("y8nQ");var d=r(a("Vl3Y"));a("+L6B");var n=r(a("2/Rp"));a("IzEo");var i=r(a("bx4M")),o=r(a("p0pE"));a("/zsF");var u=r(a("PArb")),s=r(a("2Taf")),f=r(a("vZ4D")),c=r(a("l4Ni")),p=r(a("ujKo")),m=r(a("MhPg")),h=l(a("q1tI")),b=a("y1Nh"),g=a("MuoO"),v=r(a("wd/R")),y=r(a("yQe+")),E=r(a("XqGe")),M=r(a("9oZW")),C=a("Y2fQ"),V=r(a("rhDX")),w=function(e,t,a,l){var r,d=arguments.length,n=d<3?t:null===l?l=Object.getOwnPropertyDescriptor(t,a):l;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,a,l);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(n=(d<3?r(n):d>3?r(t,a,n):r(t,a))||n);return d>3&&n&&Object.defineProperty(t,a,n),n},D=function(e){return Object.keys(e).map(function(t){return e[t]}).join(",")},k=["\u221a","\xd7"],S=function(e){function t(){var e;return(0,s.default)(this,t),e=(0,c.default)(this,(0,p.default)(t).apply(this,arguments)),e.state={modalVisible:!1,updateModalVisible:!1,selectedRows:[],formValues:{},updateFormValues:{id:0,name:"",description:"",url:"",sort:0,audit:0}},e.columns=[{title:(0,C.formatMessage)({id:"Name"}),dataIndex:"name"},{title:(0,C.formatMessage)({id:"Description"}),dataIndex:"description"},{title:"URL",dataIndex:"url",render:function(e){return h.default.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},e)}},{title:(0,C.formatMessage)({id:"Sort"}),dataIndex:"sort"},{title:(0,C.formatMessage)({id:"Audited"}),dataIndex:"audit",filters:[{text:k[0],value:"0"},{text:k[1],value:"1"}],render:function(e){return 1===e?k[0]:k[1]}},{title:(0,C.formatMessage)({id:"Status"}),width:80,dataIndex:"deleted_at",filters:[{text:k[0],value:"1"},{text:k[1],value:"0"}],render:function(e){return null===e?k[0]:k[1]}},{title:(0,C.formatMessage)({id:"Created_at"}),width:115,dataIndex:"created_at",sorter:!0,render:function(e){return h.default.createElement("span",null,(0,v.default)(e).format("YYYY-MM-DD"))}},{title:(0,C.formatMessage)({id:"Handle"}),width:110,render:function(t,a){return null===a.deleted_at?h.default.createElement(h.Fragment,null,h.default.createElement("a",{onClick:function(){return e.handleUpdateModalVisible(!0,a)}},(0,C.formatMessage)({id:"Edit"})),h.default.createElement(u.default,{type:"vertical"}),h.default.createElement("a",{onClick:function(){return e.handleDestroy(a)}},(0,C.formatMessage)({id:"Delete"}))):h.default.createElement(h.Fragment,null,h.default.createElement("a",{onClick:function(){return e.handleUpdateModalVisible(!0,a)}},(0,C.formatMessage)({id:"Edit"})),h.default.createElement(u.default,{type:"vertical"}),h.default.createElement("a",{onClick:function(){return e.handleForceDelete(a)}},(0,C.formatMessage)({id:"Force Delete"})),h.default.createElement(u.default,{type:"vertical"}),h.default.createElement("a",{onClick:function(){return e.handleRestore(a)}},(0,C.formatMessage)({id:"Restore"})))}}],e.handleStandardTableChange=function(t,a,l){var r=e.props.dispatch,d=e.state.formValues,n=Object.keys(a).reduce(function(e,t){var l=(0,o.default)({},e);return l[t]=D(a[t]),l},{}),i=(0,o.default)({currentPage:t.current,pageSize:t.pageSize},d,n);l.field&&(i.sorter="".concat(l.field,"_").concat(l.order)),r({type:"adminSite/fetch",payload:i})},e.handleMenuClick=function(t){var a=e.props.dispatch,l=e.state.selectedRows;if(l)switch(t.key){case"remove":a({type:"adminSite/destroy",payload:{key:l.map(function(e){return e.id})},callback:function(){e.setState({selectedRows:[]})}});break;default:break}},e.handleSelectRows=function(t){e.setState({selectedRows:t})},e.handleModalVisible=function(t){e.setState({modalVisible:!!t})},e.handleUpdateModalVisible=function(t,a){e.setState({updateModalVisible:!!t,updateFormValues:a||{id:0,name:"",description:"",url:"",sort:0,audit:0}})},e.handleAdd=function(t){var a=e.props.dispatch;a({type:"adminSite/add",payload:t}),e.handleModalVisible()},e.handleUpdate=function(t){var a=e.props.dispatch;a({type:"adminSite/update",payload:t}),e.handleUpdateModalVisible()},e.handleDestroy=function(t){var a=e.props.dispatch;a({type:"adminSite/destroy",payload:t})},e.handleForceDelete=function(t){var a=e.props.dispatch;a({type:"adminSite/forceDelete",payload:t})},e.handleRestore=function(t){var a=e.props.dispatch;a({type:"adminSite/restore",payload:t})},e}return(0,m.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"adminSite/fetch"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.adminSite.data,l=t.loading,r=this.state,d=r.selectedRows,o=r.modalVisible,u=r.updateModalVisible,s=r.updateFormValues,f={handleAdd:this.handleAdd,handleModalVisible:this.handleModalVisible},c={handleUpdateModalVisible:this.handleUpdateModalVisible,handleUpdate:this.handleUpdate};return h.default.createElement(b.PageHeaderWrapper,null,h.default.createElement(i.default,{bordered:!1},h.default.createElement("div",{className:V.default.tableList},h.default.createElement("div",{className:V.default.tableListOperator},h.default.createElement(n.default,{icon:"plus",type:"primary",onClick:function(){return e.handleModalVisible(!0)}},(0,C.formatMessage)({id:"Add"}))),h.default.createElement(M.default,{selectedRows:d,loading:l,data:a,columns:this.columns,onSelectRow:this.handleSelectRows,onChange:this.handleStandardTableChange}))),h.default.createElement(y.default,Object.assign({},f,{modalVisible:o})),h.default.createElement(E.default,Object.assign({},c,{updateModalVisible:u,updateFormValues:s})))}}]),t}(h.Component);S=w([(0,g.connect)(function(e){var t=e.adminSite,a=e.loading;return{adminSite:t,loading:a.models.adminSite}})],S);var F=d.default.create()(S);t.default=F},XqGe:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("7Kak");var r=l(a("9yH6"));a("5NDa");var d=l(a("5rEg"));a("2qtc");var n=l(a("kLXV"));a("y8nQ");var i=l(a("Vl3Y")),o=l(a("q1tI")),u=a("Y2fQ"),s=i.default.Item,f=function(e){var t=e.updateModalVisible,a=e.form,l=e.handleUpdate,i=e.handleUpdateModalVisible,f=e.updateFormValues,c=function(){a.validateFields(function(e,t){e||(a.resetFields(),l(t))})};return o.default.createElement(n.default,{destroyOnClose:!0,title:(0,u.formatMessage)({id:"Edit"}),visible:t,onOk:c,onCancel:function(){return i()}},a.getFieldDecorator("id",{rules:[{required:!0}],initialValue:f.id})(o.default.createElement(d.default,{type:"hidden"})),o.default.createElement(s,{labelCol:{span:5},wrapperCol:{span:15},label:(0,u.formatMessage)({id:"Name"})},a.getFieldDecorator("name",{rules:[{required:!0}],initialValue:f.name})(o.default.createElement(d.default,null))),o.default.createElement(s,{labelCol:{span:5},wrapperCol:{span:15},label:(0,u.formatMessage)({id:"Description"})},a.getFieldDecorator("description",{rules:[{required:!0}],initialValue:f.description})(o.default.createElement(d.default,null))),o.default.createElement(s,{labelCol:{span:5},wrapperCol:{span:15},label:"URL"},a.getFieldDecorator("url",{rules:[{required:!0}],initialValue:f.url})(o.default.createElement(d.default,null))),o.default.createElement(s,{labelCol:{span:5},wrapperCol:{span:15},label:(0,u.formatMessage)({id:"Sort"})},a.getFieldDecorator("sort",{rules:[{required:!0}],initialValue:f.sort})(o.default.createElement(d.default,null))),o.default.createElement(s,{labelCol:{span:5},wrapperCol:{span:15},label:(0,u.formatMessage)({id:"Audited"})},a.getFieldDecorator("audit",{rules:[{required:!0}],initialValue:f.audit})(o.default.createElement(r.default.Group,null,o.default.createElement(r.default,{value:1},(0,u.formatMessage)({id:"Yes"})),o.default.createElement(r.default,{value:0},(0,u.formatMessage)({id:"No"}))))))},c=i.default.create()(f);t.default=c},"yQe+":function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("7Kak");var r=l(a("9yH6"));a("5NDa");var d=l(a("5rEg"));a("2qtc");var n=l(a("kLXV"));a("y8nQ");var i=l(a("Vl3Y")),o=l(a("q1tI")),u=a("Y2fQ"),s=i.default.Item,f=function(e){var t=e.modalVisible,a=e.form,l=e.handleAdd,i=e.handleModalVisible,f=function(){a.validateFields(function(e,t){e||(a.resetFields(),l(t))})};return o.default.createElement(n.default,{destroyOnClose:!0,title:(0,u.formatMessage)({id:"Add"}),visible:t,onOk:f,onCancel:function(){return i()}},o.default.createElement(s,{labelCol:{span:5},wrapperCol:{span:15},label:(0,u.formatMessage)({id:"Name"})},a.getFieldDecorator("name",{rules:[{required:!0}]})(o.default.createElement(d.default,null))),o.default.createElement(s,{labelCol:{span:5},wrapperCol:{span:15},label:(0,u.formatMessage)({id:"Description"})},a.getFieldDecorator("description",{rules:[{required:!0}]})(o.default.createElement(d.default,null))),o.default.createElement(s,{labelCol:{span:5},wrapperCol:{span:15},label:"URL"},a.getFieldDecorator("url",{rules:[{required:!0}]})(o.default.createElement(d.default,null))),o.default.createElement(s,{labelCol:{span:5},wrapperCol:{span:15},label:(0,u.formatMessage)({id:"Sort"})},a.getFieldDecorator("sort",{rules:[{required:!0}]})(o.default.createElement(d.default,null))),o.default.createElement(s,{labelCol:{span:5},wrapperCol:{span:15},label:(0,u.formatMessage)({id:"Audited"})},a.getFieldDecorator("audit",{rules:[{required:!0}],initialValue:1})(o.default.createElement(r.default.Group,null,o.default.createElement(r.default,{value:1},(0,u.formatMessage)({id:"Yes"})),o.default.createElement(r.default,{value:0},(0,u.formatMessage)({id:"No"}))))))},c=i.default.create()(f);t.default=c}}]);